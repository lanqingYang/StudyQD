<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>动态生成表格案例</title>
  </head>
  <style>
    table {
      margin: 100px auto;
      width: 400px;
      border-collapse: collapse;
      text-align: center;
      font-size: 14px;
    }
    thead tr {
      height: 30px;
      background-color: skyblue;
    }
    tbody tr {
      height: 26px;
    }

    tbody td {
      border-bottom: 1px solid #d7d7d7;
      font-size: 12px;
      color: steelblue;
    }
  </style>
  <body>
    <table>
      <thead>
        <tr>
          <th>姓名</th>
          <th>科目</th>
          <th>成绩</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </body>
  <script>
    //1.准备数据
    var datas = [
      {
        name: "辉夜姬",
        subject: "javascript",
        score: 100,
      },
      {
        name: "蟹姬",
        subject: "javascript",
        score: 99,
      },
      {
        name: "不知火",
        subject: "javascript",
        score: 100,
      },
    ];

    //2.tbody里面创建行
    var tbody = document.querySelector("tbody");
    //创建行
    for (var i = 0; i < datas.length; i++) {
      var tr = document.createElement("tr");
      tbody.appendChild(tr);
      //行里面创建单元格
      //3. 创建列 (跟数据有关的3个单元格)
      for (var key in datas[i]) {
        var td = document.createElement("td");
        td.innerHTML = datas[i][key];
        tr.appendChild(td);
      }
      //4. 创建有删除2个字的单元格
      var td = document.createElement("td");
      td.innerHTML = "<a href='javascript:;'>删除</a>";
      tr.appendChild(td);
    }

    //5.删除
    //找到所有的a
    var as = document.querySelectorAll("a");
    for (var i = 0; i < as.length; i++) {
      //绑定事件
      as[i].onclick = function () {
        tbody.removeChild(this.parentNode.parentNode);
      };
    }
  </script>
</html>
