<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正则表达式</title>
</head>
<style>
    div{
        height: 200px;
        width: 400px;
/*         text-align: center;
 */        border: 1px solid mediumaquamarine;
        background-image: url(../practise-pic/xiamu.jpg) ;
        background-size: cover;
        background-repeat: no-repeat;
        border-radius: 10px;
    }
    form{
        margin-top: 30px;
        opacity: 0.8;
        margin-left: 10px;
        color: rgb(94, 94, 94);
    }
    input{
        border: none;
        background: none;
        border-bottom: 2px solid palegoldenrod;
        outline: none;
        margin-bottom: 10px;
        opacity: 0.8;

    }

    button{
        margin-left: 24%;
        border-radius: 4px;
        width: 50px;
        height: 30px;
        outline: none;
        background-color:  rgb(138, 216, 212);
        border: 1px solid  rgb(138, 216, 212);
    }
    button:active{
        transform:translateY(1px);
        background-color: rgb(123, 189, 185);
    }
    input::after{
        color: red;
        font-size: 0.9em;
    }
    span{
        font-size: 0.7em;
    }
    .red{
        color: red;
    }
    .green{
        color: seagreen;
    }
</style>
<body>
    <div>
        <form action="">
        <label for="email"> 邮箱：</label><input type="text" id="email" onblur="emapd()"><span id="emaspan" ></span><br />   <!-- 有@ -->
        <label for="tel">电话：</label> <input type="text" id="tel" onblur="telpd()" ><span id="telspan" ></span><br />   <!-- 判断是否全为数字 -->
        <label for="name"> 姓名：</label><input type="text" id="name" onblur="namepd()" class="name"><span id="namespan" ></span><br />   <!-- 全为汉字 -->
        <button onclick="check()" >提交</button>
        </form> 
    </div>
</body>
<script>
    var a=b=c=true;


    
    function telpd(){
        var telnode=document.getElementById("tel");
         var tel=telnode.value;
        /*  alert(tel); */
        var reg=/^1[34578]\d{9}$/;     /* ^匹配字符串开始，$结束 */
        if(!reg.test(tel)){
            b=false;
            document.getElementById("telspan").className="red";
            document.getElementById("telspan").innerHTML="请输入正确的手机号";
        }else{
            b=true;
            document.getElementById("telspan").className="green";
            document.getElementById("tel").nextElementSibling.innerHTML="√";  /* 两种写法 */
        }
    }


    function check(){
        if(b==true&&a==true&&c==true){
            alert("提交成功");
        }else{
                alert("请全部填写正确后提交");
        }
    }


    function emapd(){
        // var emanode=document.getElementc("email");
        // var ema=emanode.value;
        var ema=this.value;
        var emaspan=document.getElementById("emaspan");
        var reg=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;  

        if(!reg.test(ema)){
            a=false;
            emaspan.className="red";
            emaspan.innerHTML="请输入正确的邮箱";
        }else{
            a=true;
            emaspan.className="green";
            emaspan.innerHTML="√";
        }
    }

    function namepd(){
        var namenode=document.getElementById("name");
        var name=namenode.value;
        var namespan=document.getElementById("namespan");
        var reg= /^[a-zA-Z0-9_-]{4,16}$/;

        if(!reg.test(name)){
            c=false;
            namespan.className="red";
            namespan.innerHTML="用户名4到16位"
        }else{
            c=true;
            namespan.className="green";
            namespan.innerHTML="√";
        }
    }
/*     var cc="18182281436";
    var reg1=/^[1[34578]\d{9}]$/;
    alert(reg1.test(cc)); */


</script>
</html>

