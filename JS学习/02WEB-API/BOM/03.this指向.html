<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <!-- 
    this指向问题:

    1.全局作用域下或者普通函数中 this指向全局对象window(注意定时器里面的this指向window)

    2. 方法调用中谁调用this指向谁

    3.构造函数中 this 指向构造函数的实例

 -->

  <button>点击</button>
  <body>
    <script>
      // 1. 全局作用域下或者!普通函数!中 this指向全局对象window(注意定时器里面的this指向window)
      console.log(this); //window
      function fn() {
        console.log(this); //window
      }

      window.fn(); //  理解: fn其实是window下的方法 调用 实际为  window.fn()  所以 this指向window
      window.setTimeout(function () {
        console.log(this); // window, 同理: window.setTimeout()
      }, 1000);

      //2. 方法调用中谁调用this指向谁
      var o = {
        sayHi: function () {
          console.log(this); //this 指向o这个对象
        },
      };
      o.sayHi();

      var btn = document.querySelector("button");
      btn.onclick = function () {
        console.log(this); //this指向btn按钮对象
      };

      //3. 构造函数中this指向构造函数的实例
      function Fun() {
        console.log(this);
      }
      var fun = new Fun(); //this 指向fun
      //    new的作用： 1. 构造函数在内存中创造一个空对象
      //                2. this指向空对象
      //                3. 执行代码给空对象+属性和方法
      //                4. 返回对象 （所以构造函数不需要return）
    </script>
  </body>
</html>
